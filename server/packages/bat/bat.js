const display=require("display"),wifi=require("wifi"),storage=require("storage"),dialog=require("dialog"),serverUrl="https://bat-five.vercel.app/";function clear(){display.fill(display.color(0,0,0))}function splash(){display.setTextAlign(1,1),display.drawText("BAT Package Manager",50,50),delay(2e3),clear()}function startup(){-1==storage.readdir("/").indexOf(".bat")&&storage.mkdir(".bat")}function appsMenu(){if(clear(),0==storage.readdir("/.bat").length){dialog.message("No apps installed",!0);return}}function searchPackages(){packageName=dialog.prompt("",30,"")}function installMenu(){clear();var e=dialog.choice(["Search","Browse","Back"]);"Search"==e&&(clear(),searchPackages()),"Browse"==e&&(clear(),dialog.message("Not yet implemented",!0))}clear(),startup(),wifi.connected()||wifi.connectDialog();const menuOptions=["Apps","Manage","Install","Remove","Infos","Cancel"];for(var selected=dialog.choice(menuOptions);"Cancel"!=selected;){"Apps"==selected&&appsMenu(),"Manage"==selected&&(clear(),dialog.message("Not yet implemented",!0)),"Install"==selected&&installMenu(),"Remove"==selected&&(clear(),dialog.message("Not yet implemented",!0)),"Infos"==selected&&(clear(),dialog.message("BAT\nBruce Application Toolkit - A packet manager for Bruce firmware",!0));var selected=dialog.choice(menuOptions)}